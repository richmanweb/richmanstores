import{_ as u,f as i,o as h,g as m,i as s,t as n,h as r,w as l,p as _}from"./app-194617d4.js";const f={data:()=>({loading:!0,currentPage:1,lastPage:1,collectionsList:[]}),computed:{headers(){return[{title:this.$i18n.t("code"),align:"start",sortable:!1,value:"code"},{title:this.$i18n.t("date"),sortable:!1,align:"start",value:"date"},{title:this.$i18n.t("amount"),sortable:!1,align:"start",value:"amount"},{title:this.$i18n.t("options"),sortable:!1,align:"center",value:"options"}]}},methods:{async getCollectionsList(t){this.loading=!0;const e=await this.call_api("get",`delivery-boy/collections-list?page=${t}`);e.status==200?(this.collectionsList=e.data.data,this.lastPage=e.data.meta.last_page,this.currentPage=e.data.meta.current_page):this.snack({message:this.$i18n.t("something_went_wrong"),color:"red"}),this.loading=!1},openOrderDetails(t){this.$router.push({name:"DeliveryboyOrderDetails",params:{code:t}})}},created(){let t=this.$route.query.page||this.currentPage;this.getCollectionsList(t)}},v={class:"ps-lg-7 pt-4"},b={class:"fs-24 fw-700 opacity-80 mb-5 mt-3"},y={class:"d-block fw-600"},$=["onClick"],C={class:"text-start"};function k(t,e,w,P,L,o){const c=i("v-btn"),d=i("v-data-table"),p=i("v-pagination");return h(),m("div",v,[s("h1",b,n(t.$t("collection_history")),1),s("div",null,[r(d,{headers:o.headers,items:t.collectionsList,class:"border px-4 pt-3","hide-default-footer":"","item-class":"c-pointer"},{"item.code":l(({item:a})=>[r(c,{onClick:g=>o.openOrderDetails(a.code),variant:"flat",class:"px-2 text-primary"},{default:l(()=>[_(n(a.code),1)]),_:2},1032,["onClick"])]),"item.amount":l(({item:a})=>[s("span",y,n(t.format_price(a.amount)),1)]),"item.options":l(({item:a})=>[s("a",{onClick:g=>o.openOrderDetails(a.code),class:"px-2 btn btn-soft-info btn-icon btn-circle btn-sm hov-svg-white"},e[1]||(e[1]=[s("i",{class:"las la-bars"},null,-1)]),8,$)]),_:2},1032,["headers","items"])]),s("div",C,[r(p,{modelValue:t.currentPage,"onUpdate:modelValue":[e[0]||(e[0]=a=>t.currentPage=a),o.getCollectionsList],length:t.lastPage,"prev-icon":"las la-angle-left","next-icon":"las la-angle-right","total-visible":7,elevation:"0",class:"my-4"},null,8,["modelValue","onUpdate:modelValue","length"])])])}const D=u(f,[["render",k]]);export{D as default};
