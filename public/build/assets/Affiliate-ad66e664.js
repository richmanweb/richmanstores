import{_ as y,f as n,o as m,v as h,w as t,i as o,h as a,t as s,m as P,b as V,p,u as x,a as A,g as v,k as R,F as S,j as k}from"./app-b908ceb1.js";import{W as H}from"./WithdrawDialog-4aa4a509.js";const W={data:()=>({loading:!0,currentPage:1,totalPages:1,earningtHistory:[]}),computed:{headers(){return[{title:this.$i18n.t("amount"),align:"start",sortable:!1,value:"amount"},{title:this.$i18n.t("order_id"),sortable:!1,align:"start",value:"order_id"},{title:this.$i18n.t("referrel_type"),sortable:!1,align:"start",value:"referrel_type"},{title:this.$i18n.t("product"),sortable:!1,align:"start",value:"product"},{title:this.$i18n.t("date"),sortable:!1,align:"start",value:"date"}]}},methods:{async getEarningHistory(e){this.loading=!0;const l=await this.call_api("get",`user/affiliate/earning-history?page=${e}`);l.status==200?(this.earningtHistory=l.data.data,this.totalPages=l.data.meta.last_page,this.currentPage=l.data.meta.current_page):this.snack({message:this.$i18n.t("something_went_wrong"),color:"red"}),this.loading=!1}},created(){let e=this.$route.query.page||this.currentPage;this.getEarningHistory(e)}},B={class:"mt-4"},T={class:"fs-21 fw-700 opacity-80 mb-5"},E={class:"text-start"};function U(e,l,$,b,w,r){const f=n("v-data-table"),d=n("v-pagination"),g=n("v-card-text"),u=n("v-card"),i=n("v-col");return m(),h(i,null,{default:t(()=>[o("div",B,[a(u,{class:"mx-auto"},{default:t(()=>[a(g,null,{default:t(()=>[o("h1",T,s(e.$t("affiliate_earning_history")),1),a(f,{headers:r.headers,items:e.earningtHistory,class:"border px-4 pt-3","hide-default-footer":"","item-class":"c-pointer"},null,8,["headers","items"]),o("div",E,[a(d,{modelValue:e.currentPage,"onUpdate:modelValue":[l[0]||(l[0]=c=>e.currentPage=c),r.getEarningHistory],length:e.totalPages,"prev-icon":"las la-angle-left","next-icon":"las la-angle-right","total-visible":7,elevation:"0",class:"my-4"},null,8,["modelValue","onUpdate:modelValue","length"])])]),_:1})]),_:1})])]),_:1})}const I=y(W,[["render",U]]),F={data:()=>({loading:!0,currentPage:1,totalPages:1,paymentHistory:[]}),computed:{...P("affiliate",["getAffiliateBalance"]),headers(){return[{title:this.$i18n.t("date"),align:"start",sortable:!1,value:"date"},{title:this.$i18n.t("amount"),align:"start",sortable:!1,value:"amount"},{title:this.$i18n.t("payment_method"),sortable:!1,align:"end",value:"payment_method"}]}},methods:{...V("affiliate",["fetchAffiliateBalance"]),async getPaymentHistory(e){this.loading=!0;const l=await this.call_api("get",`user/affiliate/payment-history?page=${e}`);l.status==200?(this.paymentHistory=l.data.data,this.totalPages=l.data.meta.last_page,this.currentPage=l.data.meta.current_page):this.snack({message:this.$i18n.t("something_went_wrong"),color:"red"}),this.loading=!1}},created(){let e=this.$route.query.page||this.currentPage;this.getPaymentHistory(e),this.fetchAffiliateBalance()}},L={class:"mt-4"},j={class:"fs-21 fw-700 opacity-80 mb-5"},N={class:"d-block fw-600"},z={class:"d-block fw-600"},G={class:"d-block fw-600"},M={class:"text-start"};function J(e,l,$,b,w,r){const f=n("v-data-table"),d=n("v-pagination"),g=n("v-card-text"),u=n("v-card"),i=n("v-col");return m(),h(i,null,{default:t(()=>[o("div",L,[a(u,{class:"mx-auto"},{default:t(()=>[a(g,null,{default:t(()=>[o("h1",j,s(e.$t("affiliate_payment_history")),1),a(f,{headers:r.headers,items:e.paymentHistory,class:"border px-4 pt-3","hide-default-footer":"","item-class":"c-pointer"},{"item.date":t(({item:c})=>[o("span",N,s(c.date),1)]),"item.amount":t(({item:c})=>[o("span",z,s(c.amount),1)]),"item.payment_method":t(({item:c})=>[o("span",G,s(c.payment_method),1)]),_:2},1032,["headers","items"]),o("div",M,[a(d,{modelValue:e.currentPage,"onUpdate:modelValue":[l[0]||(l[0]=c=>e.currentPage=c),r.getPaymentHistory],length:e.totalPages,"prev-icon":"las la-angle-left","next-icon":"las la-angle-right","total-visible":7,elevation:"0",class:"my-4"},null,8,["modelValue","onUpdate:modelValue","length"])])]),_:1})]),_:1})])]),_:1})}const K=y(F,[["render",J]]),O={data:()=>({loading:!0}),computed:{...P("affiliate",["getWithdrawRequest","getWithdrawRequestCurrentPage","getWithdrawRequestLastPage"]),headers(){return[{title:this.$i18n.t("date"),align:"start",sortable:!1,value:"date"},{title:this.$i18n.t("amount"),align:"start",sortable:!1,value:"amount"},{title:this.$i18n.t("status"),sortable:!1,align:"end",value:"status"}]}},methods:{...V("affiliate",["fetchWithdrawRequest"])},created(){let e=this.$route.query.page||this.currentPage;this.fetchWithdrawRequest(e)}},Q={class:"mt-4"},X={class:"fs-21 fw-700 opacity-80 mb-5"},Y={class:"d-block fw-600"},Z={class:"d-block fw-600"},ee={class:"text-start"};function te(e,l,$,b,w,r){const f=n("v-btn"),d=n("v-data-table"),g=n("v-pagination"),u=n("v-card-text"),i=n("v-card"),c=n("v-col");return m(),h(c,null,{default:t(()=>[o("div",Q,[a(i,{class:"mx-auto"},{default:t(()=>[a(u,null,{default:t(()=>[o("h1",X,s(e.$t("affiliate_withdraw_request_history")),1),a(d,{headers:r.headers,items:e.getWithdrawRequest,class:"border px-4 pt-3","hide-default-footer":"","item-class":"c-pointer"},{"item.date":t(({item:_})=>[o("span",Y,s(_.date),1)]),"item.amount":t(({item:_})=>[o("span",Z,s(_.amount),1)]),"item.status":t(({item:_})=>[_.status==1?(m(),h(f,{key:0,"x-small":"",color:"success"},{default:t(()=>[p(s(e.$t("accepted")),1)]),_:1})):_.status==2?(m(),h(f,{key:1,"x-small":"",color:"error"},{default:t(()=>[p(s(e.$t("rejected")),1)]),_:1})):(m(),h(f,{key:2,"x-small":"",color:"info"},{default:t(()=>[p(s(e.$t("pending")),1)]),_:1}))]),_:2},1032,["headers","items"]),o("div",ee,[a(g,{modelValue:e.getWithdrawRequestCurrentPage,"onUpdate:modelValue":[l[0]||(l[0]=_=>e.getWithdrawRequestCurrentPage=_),this.fetchWithdrawRequest],length:e.getWithdrawRequestLastPage,"prev-icon":"las la-angle-left","next-icon":"las la-angle-right","total-visible":7,elevation:"0",class:"my-4"},null,8,["modelValue","onUpdate:modelValue","length"])])]),_:1})]),_:1})])]),_:1})}const ae=y(O,[["render",te]]),le={props:{show:{type:Boolean,required:!0,default:!1}},data:()=>({v$:x(),loading:!1,form:{paypalEmail:"",bankInformations:""}}),validations:{form:{paypalEmail:{required:A},bankInformations:{required:A}}},computed:{isVisible:{get:function(){return this.show},set:function(e){}}},methods:{closeDialog(){this.isVisible=!1,this.$emit("close")},async storePaymentSettings(){if(!await this.v$.$validate())return;this.loading=!1;const l=await this.call_api("post","user/affiliate/payment-settings",this.form);this.snack({message:this.$i18n.t(l.data.message),color:"green"}),this.$refs.paymentForm.reset(),this.loading=!1,this.closeDialog()}}},oe={class:"white pa-5 rounded"},se={class:"opacity-80 mb-3 fs-18 mt-3"},ne={class:"text-right mt-4"};function ie(e,l,$,b,w,r){const f=n("v-text-field"),d=n("v-btn"),g=n("v-form"),u=n("v-dialog");return m(),h(u,{modelValue:r.isVisible,"onUpdate:modelValue":l[3]||(l[3]=i=>r.isVisible=i),"max-width":"700px","onClick:outside":r.closeDialog},{default:t(()=>[o("div",oe,[a(g,{ref:"paymentForm","lazy-validation":"",onSubmit:l[2]||(l[2]=k(i=>r.storePaymentSettings(),["prevent"])),autocomplete:"chrome-off"},{default:t(()=>[o("h3",se,s(e.$t("payment_settings")),1),a(f,{variant:"plain",class:"text-field",placeholder:e.$t("paypal_email"),type:"email",modelValue:e.form.paypalEmail,"onUpdate:modelValue":l[0]||(l[0]=i=>e.form.paypalEmail=i),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue"]),(m(!0),v(S,null,R(e.v$.form.paypalEmail.$errors,i=>(m(),v("p",{key:i.$uid,class:"text-red"},s(i.$message),1))),128)),a(f,{variant:"plain",class:"mt-4 text-field",placeholder:e.$t("bank_informations"),type:"text",modelValue:e.form.bankInformations,"onUpdate:modelValue":l[1]||(l[1]=i=>e.form.bankInformations=i),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue"]),(m(!0),v(S,null,R(e.v$.form.bankInformations.$errors,i=>(m(),v("p",{key:i.$uid,class:"text-red"},s(i.$message),1))),128)),o("div",ne,[a(d,{elevation:"0",class:"mr-4",text:"",onClick:r.closeDialog},{default:t(()=>[p(s(e.$t("cancel")),1)]),_:1},8,["onClick"]),a(d,{elevation:"0",type:"submit",color:"primary",onClick:r.storePaymentSettings,loading:e.loading,disabled:e.loading},{default:t(()=>[p(s(e.$t("update")),1)]),_:1},8,["onClick","loading","disabled"])])]),_:1},512)])]),_:1},8,["modelValue","onClick:outside"])}const re=y(le,[["render",ie]]),de={data:()=>({withdrawDialogShow:!1,ConfigPayoutDialogShow:!1,loading:!0,currentPage:1,totalPages:1,products:[],referrelCode:""}),components:{WithdrawDialog:H,ConfigPayoutDialog:re,AffiliateEarningHistory:I,AffiliatePaymentHistory:K,AffiliatePaymentWithdraw:ae},computed:{...P("affiliate",["getAffiliateBalance","getReferralCode","getTotalClick","getTotalItem","getTotalDelevered","getTotalCancel"])},methods:{...V("affiliate",["fetchAffiliateBalance","fetchAffiliateReferralCode","fetchAffiliateStats"]),copyText(e){const l=document.createElement("textarea");l.value=e,document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l)},withdrawDialogClosed(){this.withdrawDialogShow=!1},ConfigPayoutDialogClosed(){this.ConfigPayoutDialogShow=!1}},created(){this.fetchAffiliateBalance(),this.fetchAffiliateReferralCode(),this.fetchAffiliateStats()}},ce={class:"ps-lg-7 pt-4"},ue={class:"fs-21 fw-700 opacity-80 mb-5"},fe={class:"fs-14 mb-3 fw-700 primary--text"},me={class:"fw-500 text-h4"},_e={class:"fs-14 mb-3 w-100"},ge=o("i",{class:"las la-cog la-3x opacity-70"},null,-1),he={class:"fs-14 mb-3 w-100"},pe=o("i",{class:"las la-plus la-3x opacity-70"},null,-1),ve={class:"fs-21 fw-700 opacity-80 mb-5"},ye={class:"fs-14 mb-3 w-100"},$e={class:"fs-14 mb-3 w-100"},be={class:"fs-14 mb-3 w-100"},we={class:"fs-14 mb-3 w-100"};function Ce(e,l,$,b,w,r){const f=n("v-sheet"),d=n("v-col"),g=n("config-payout-dialog"),u=n("v-btn"),i=n("withdraw-dialog"),c=n("v-row"),_=n("v-text-field"),D=n("v-card-text"),q=n("v-card");return m(),v("div",null,[o("div",ce,[o("h1",ue,s(e.$t("affiliate")),1),a(c,null,{default:t(()=>[a(d,{cols:"12",sm:"4"},{default:t(()=>[a(f,{color:"grey darken-3",rounded:"rounded",elevation:"0",height:"130",class:"d-flex justify-center align-center white--text flex-column"},{default:t(()=>[o("div",fe,s(e.$t("affiliate_balance")),1),o("div",me,s(e.getAffiliateBalance),1)]),_:1})]),_:1}),a(d,{cols:"12",sm:"4"},{default:t(()=>[a(g,{show:e.ConfigPayoutDialogShow,onClose:r.ConfigPayoutDialogClosed},null,8,["show","onClose"]),a(u,{class:"border border-gray-300 h-100 py-6",elevation:"0",block:"","x-large":"",onClick:l[0]||(l[0]=k(C=>e.ConfigPayoutDialogShow=!0,["stop"]))},{default:t(()=>[o("span",null,[o("div",_e,s(e.$t("configure_payout")),1),ge])]),_:1})]),_:1}),a(d,{cols:"12",sm:"4"},{default:t(()=>[a(i,{show:e.withdrawDialogShow,onClose:r.withdrawDialogClosed},null,8,["show","onClose"]),a(u,{class:"border-dashed bg-grey-lighten-4 border-gray-300 h-100 py-6",elevation:"0",block:"","x-large":"",onClick:l[1]||(l[1]=k(C=>e.withdrawDialogShow=!0,["stop"]))},{default:t(()=>[o("span",null,[o("div",he,s(e.$t("affiliate_withdraw_request")),1),pe])]),_:1})]),_:1})]),_:1}),a(c,null,{default:t(()=>[a(d,{cols:"12",sm:"12"},{default:t(()=>[a(q,{class:"mx-auto","prepend-icon":"mdi-home"},{default:t(()=>[a(D,null,{default:t(()=>[a(_,{readonly:"",modelValue:e.getReferralCode,"onUpdate:modelValue":l[2]||(l[2]=C=>e.getReferralCode=C),ref:"textToCopy",id:"referralLink"},null,8,["modelValue"]),a(u,{onClick:l[3]||(l[3]=C=>r.copyText(e.getReferralCode))},{default:t(()=>[p("copy")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(c,null,{default:t(()=>[a(d,{cols:"12",sm:"12"},{default:t(()=>[a(q,{class:"mx-auto"},{default:t(()=>[a(D,null,{default:t(()=>[o("h1",ve,s(e.$t("affiliate_status")),1),a(c,null,{default:t(()=>[a(d,{cols:"12",sm:"3"},{default:t(()=>[a(u,{class:"border border-gray-300 h-100 py-6",elevation:"0",block:"","x-large":""},{default:t(()=>[o("span",null,[o("h1",null,s(e.getTotalClick),1),o("div",ye,s(e.$t("no_of_click")),1)])]),_:1})]),_:1}),a(d,{cols:"12",sm:"3"},{default:t(()=>[a(u,{class:"border border-gray-300 h-100 py-6",elevation:"0",block:"","x-large":""},{default:t(()=>[o("span",null,[o("h1",null,s(e.getTotalItem),1),o("div",$e,s(e.$t("no_of_item")),1)])]),_:1})]),_:1}),a(d,{cols:"12",sm:"3"},{default:t(()=>[a(u,{class:"border border-gray-300 h-100 py-6",elevation:"0",block:"","x-large":""},{default:t(()=>[o("span",null,[o("h1",null,s(e.getTotalDelevered),1),o("div",be,s(e.$t("no_of_delivered")),1)])]),_:1})]),_:1}),a(d,{cols:"12",sm:"3"},{default:t(()=>[a(u,{class:"border border-gray-300 h-100 py-6",elevation:"0",block:"","x-large":""},{default:t(()=>[o("span",null,[o("h1",null,s(e.getTotalCancel),1),o("div",we,s(e.$t("no_of_cancel")),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])])}const Ve=y(de,[["render",Ce]]);export{Ve as default};
