import{_ as P,m as g,b as f,f as c,o as r,g as l,h as t,i as s,t as o,v as B,w as d,l as _,j as C,F as b,k as m,A as w}from"./app-5fa057e7.js";import{A as V}from"./AddressDialog-68f8a605.js";import{R as S}from"./RechargeDialog-c0f4224c.js";import"./Payment-d3a78d15.js";const L={data:()=>({rechargeDialogShow:!1,addressDialogShow:!1,dashboardLoading:!0,total_order_products:0,purchasedProducts:[{},{},{}],recentlyViewedProducts:{loading:!0,products:[]},last_recharge:{amount:0,date:""}}),components:{RechargeDialog:S,AddressDialog:V},computed:{...g("app",["generalSettings"]),...g("auth",["currentUser"]),...g("cart",["getCartCount"]),...g("wishlist",["wislistLoaded","getTotalWishlisted","getWislistProducts"]),...g("address",["getDefaultBillingAddress"]),...g("recentlyViewed",["recentlyViewedLoaded","getRecentlyViewedProducts"])},methods:{...f("auth",["rechargeWallet"]),...f("address",["fetchAddresses"]),...f("wishlist",["fetchWislistProducts"]),...f("recentlyViewed",["fetchRecentlyViewedProducts"]),async getDashboardData(){const e=await this.call_api("get","user/dashboard");e.data.success&&(this.total_order_products=e.data.total_order_products,this.purchasedProducts=e.data.recent_purchased_products.data,this.last_recharge=e.data.last_recharge),this.dashboardLoading=!1},rechargeDialogClosed(){this.rechargeDialogShow=!1},addressDialogClosed(){this.addressDialogShow=!1}},created(){this.getDashboardData(),this.fetchAddresses(),this.fetchWislistProducts(),this.fetchRecentlyViewedProducts()},mounted(){this.rechargeWallet(this.$route.query.wallet_payment)}},W={class:"ps-lg-7 pt-4"},j={class:"fs-21 fw-700 opacity-80 mb-5"},R={class:"fs-14 mb-3 fw-700 primary-text"},N={class:"fw-500 text-h4"},F={class:"fs-14 mb-3 fw-700 primary-text"},T={class:"fw-500 text-h4"},U={class:"fw-700 fs-12 opacity-60"},q={class:"fs-14 mb-3 w-100"},z={class:"fw-500 text-h4"},E={class:"fw-700 fs-12"},G={class:"fw-500 text-h4"},I={class:"fw-700 fs-12"},M={class:"fw-500 text-h4"},x={class:"fw-700 fs-12"},H={class:"fw-700 fs-16 border-bottom pb-2 mx-2 my-2"},J={class:"h-350px overflow-auto c-scrollbar pa-2"},K={class:"fw-700 fs-16 border-bottom pb-2 mx-2 my-2"},O={key:0,class:"h-340px overflow-auto c-scrollbar pa-2"},Q={class:"fw-700 fs-16 border-bottom pb-2"},X={key:0,class:"mt-3 lh-1-8"},Y={class:"fw-700 fs-16 border-bottom pb-2 mx-2 my-2"},Z={class:"h-340px overflow-auto c-scrollbar pa-2"};function ee(e,i,se,te,oe,y){const v=c("banner"),a=c("v-sheet"),h=c("v-col"),k=c("recharge-dialog"),D=c("v-btn"),$=c("v-row"),p=c("product-box"),A=c("address-dialog");return r(),l("div",null,[t(v,{loading:!1,banner:e.$store.getters["app/banners"].dashboard_page_top},null,8,["banner"]),s("div",W,[s("h1",j,o(e.$t("dashboard")),1),e.generalSettings.wallet_system==1?(r(),B($,{key:0},{default:d(()=>[t(h,{cols:"12",sm:"4"},{default:d(()=>[t(a,{color:"grey-darken-3",rounded:"rounded",elevation:"0",height:"130",class:"d-flex justify-center align-center white-text flex-column"},{default:d(()=>[s("div",R,o(e.$t("wallet_balance")),1),s("div",N,o(e.format_price(e.currentUser.balance)),1)]),_:1})]),_:1}),t(h,{cols:"12",sm:"4"},{default:d(()=>[t(a,{color:"grey-darken-3",rounded:"rounded",elevation:"0",height:"130",class:"d-flex justify-center align-center white-text flex-column"},{default:d(()=>[s("div",F,o(e.$t("last_recharge")),1),s("div",T,o(e.format_price(e.last_recharge.amount)),1),s("div",U,o(e.last_recharge.date),1)]),_:1})]),_:1}),t(h,{cols:"12",sm:"4"},{default:d(()=>[t(k,{show:e.rechargeDialogShow,from:"/user/dashboard",onClose:y.rechargeDialogClosed},null,8,["show","onClose"]),t(D,{class:"bg-grey-lighten-4 border-dashed border-gray-300 h-100 py-6",elevation:"0",block:"","x-large":"",onClick:i[0]||(i[0]=C(u=>e.rechargeDialogShow=!0,["stop"])),border:"dashed thin"},{default:d(()=>[s("span",null,[s("div",q,o(e.$t("recharge_wallet")),1),i[2]||(i[2]=s("i",{class:"las la-plus la-3x opacity-70"},null,-1))])]),_:1})]),_:1})]),_:1})):_("",!0),t($,null,{default:d(()=>[t(h,{cols:"12",md:"4"},{default:d(()=>[t(a,{class:"bg-grey-lighten-5 border border-gray-200 mb-4 text-red d-flex justify-center flex-column pa-5",rounded:"rounded",elevation:"0",height:"130"},{default:d(()=>[s("div",z,o(e.getCartCount),1),s("div",E,o(e.$t("products_in_your_cart")),1)]),_:1}),t(a,{class:"bg-grey-lighten-5 border border-gray-200 mb-4 text-blue d-flex justify-center flex-column pa-5",rounded:"rounded",elevation:"0",height:"130"},{default:d(()=>[s("div",G,o(e.getTotalWishlisted),1),s("div",I,o(e.$t("products_in_your_wishlist")),1)]),_:1}),t(a,{class:"bg-grey-lighten-5 border border-gray-200 mb-4 text-green d-flex justify-center flex-column pa-5",rounded:"rounded",elevation:"0",height:"130"},{default:d(()=>[s("div",M,o(e.total_order_products),1),s("div",x,o(e.$t("products_you_ordered")),1)]),_:1}),t(v,{loading:!1,banner:e.$store.getters["app/banners"].dashboard_page_bottom},null,8,["banner"])]),_:1}),t(h,{cols:"12",md:"4"},{default:d(()=>[t(a,{class:"border border-gray-200 mb-4 pa-2",rounded:"rounded",height:"422",elevation:"0"},{default:d(()=>[s("div",H,o(e.$t("recent_purchase_history")),1),s("div",J,[(r(!0),l(b,null,m(e.purchasedProducts,(u,n)=>(r(),l("div",{key:n,class:w(["mt-3",{"border-top pt-3":n!=0}])},[t(p,{"product-details":u,"is-loading":e.dashboardLoading,"box-style":"two","no-border":""},null,8,["product-details","is-loading"])],2))),128))])]),_:1}),t(a,{class:"border border-gray-200 mb-4 pa-2 my-wishlist",rounded:"rounded",height:"405",elevation:"0"},{default:d(()=>[s("div",K,o(e.$t("my_wishlist")),1),e.wislistLoaded&&e.getWislistProducts.length>0?(r(),l("div",O,[(r(!0),l(b,null,m(e.getWislistProducts,(u,n)=>(r(),l("div",{key:n,class:w(["mt-3",{"border-top pt-3":n!=0}])},[t(p,{"product-details":u,"is-loading":!e.wislistLoaded,"box-style":"two","no-border":""},null,8,["product-details","is-loading"])],2))),128))])):_("",!0)]),_:1})]),_:1}),t(h,{cols:"12",md:"4"},{default:d(()=>[t(a,{class:"border border-gray-200 mb-4 pa-4",rounded:"rounded",elevation:"0",height:"275"},{default:d(()=>[s("div",Q,o(e.$t("default_shipping_address")),1),e.getDefaultBillingAddress?(r(),l("div",X,[s("div",null,o(e.getDefaultBillingAddress.address),1),s("div",null,o(e.getDefaultBillingAddress.postal_code)+", "+o(e.getDefaultBillingAddress.city)+", "+o(e.getDefaultBillingAddress.state),1),s("div",null,o(e.getDefaultBillingAddress.country),1),s("div",null,o(e.getDefaultBillingAddress.phone),1)])):_("",!0)]),_:1}),t(a,{rounded:"rounded",elevation:"0",height:"131",class:"mb-4"},{default:d(()=>[t(D,{class:"bg-grey-lighten-4 border-dashed border-gray-300 primary-text fs-14 h-100",elevation:"0",block:"","x-large":"",onClick:i[1]||(i[1]=C(u=>e.addressDialogShow=!0,["stop"])),border:"dashed thin"},{default:d(()=>[i[3]||(i[3]=s("i",{class:"las la-plus"},null,-1)),s("span",null,o(e.$t("add_new_address")),1)]),_:1})]),_:1}),t(A,{show:e.addressDialogShow,onClose:y.addressDialogClosed},null,8,["show","onClose"]),t(a,{class:"border border-gray-200 mb-4 pa-2 recenty-viewed",rounded:"rounded",height:"405",elevation:"0"},{default:d(()=>[s("div",Y,o(e.$t("recently_viewed")),1),s("div",Z,[(r(!0),l(b,null,m(e.getRecentlyViewedProducts,(u,n)=>(r(),l("div",{key:n,class:w(["mt-3",{"border-top pt-3":n!=0}])},[t(p,{"product-details":u,"is-loading":!e.recentlyViewedLoaded,"box-style":"two","no-border":""},null,8,["product-details","is-loading"])],2))),128))])]),_:1})]),_:1})]),_:1})])])}const ie=P(L,[["render",ee],["__scopeId","data-v-be659125"]]);export{ie as default};
