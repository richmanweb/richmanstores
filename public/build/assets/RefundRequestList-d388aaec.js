import{_ as w,f as c,o,g as r,i as n,t as s,h as _,w as l,l as m,F as f,k as v,p as i,v as p}from"./app-d918d935.js";const q={data:()=>({loading:!0,currentPage:1,totalPages:1,refund_requests:[]}),computed:{headers(){return[{title:this.$i18n.t("order_code"),align:"start",sortable:!1,value:"order_code"},{title:this.$i18n.t("shop"),sortable:!1,value:"shop"},{title:this.$i18n.t("products"),sortable:!1,align:"start",value:"products"},{title:this.$i18n.t("amount"),sortable:!1,align:"end",value:"amount"},{title:this.$i18n.t("status"),sortable:!1,align:"end",value:"status"}]}},watch:{currentPage(){this.$router.push({query:{...this.$route.query,page:this.currentPage}}).catch(()=>{})}},methods:{async getList(t){this.loading=!0;const a=await this.call_api("get",`user/refund-requests?page=${t}`);a.data.success?(this.refund_requests=a.data.data,this.totalPages=a.data.meta.last_page,this.currentPage=a.data.meta.current_page):this.snack({message:this.$i18n.t("something_went_wrong"),color:"red"}),this.loading=!1}},created(){let t=this.$route.query.page||this.currentPage;this.getList(t)}},P={class:"ps-lg-7 pt-4"},V={class:"fs-24 fw-700 opacity-80 mb-5 mt-3"},L={class:"d-block fw-600"},B={class:"d-block fw-600"},N={class:"text-truncate-2"},z={key:0,class:""},C={class:"opacity-70"},F={class:"fw-500"},R={class:"opacity-70"},U={class:"fw-500"},j={class:"d-block fw-600"},x={key:0,class:"text-start"};function D(t,a,E,S,T,g){const u=c("v-btn"),y=c("v-data-table"),b=c("v-pagination");return o(),r("div",P,[n("h1",V,s(t.$t("refund_requests")),1),n("div",null,[_(y,{headers:g.headers,items:t.refund_requests,class:"border px-4 pt-3","loading-text":t.$t("loading_please_wait"),"hide-default-footer":"",loading:t.loading},{"item.order_code":l(({item:e})=>[n("span",L,s(e.order_code),1)]),"item.shop":l(({item:e})=>[n("span",B,s(e.shop),1)]),"item.products":l(({item:e})=>[(o(!0),r(f,null,v(e.refunditems,(d,$)=>(o(),r("div",{key:$,class:"mb-3"},[n("div",N,s(d.product.name),1),d.product.combinations.length>0?(o(),r("div",z,[(o(!0),r(f,null,v(d.product.combinations,(h,k)=>(o(),r("span",{key:k,class:"me-4 py-1 fs-12"},[n("span",C,s(h.attribute),1),a[1]||(a[1]=i(" : ")),n("span",F,s(h.value),1)]))),128))])):m("",!0),n("span",R,s(t.$t("quantity")),1),a[2]||(a[2]=i(" : ")),n("span",U,s(d.quantity),1)]))),128))]),"item.amount":l(({item:e})=>[n("span",j,s(t.format_price(e.amount)),1)]),"item.status":l(({item:e})=>[e.status==0?(o(),p(u,{key:0,size:"x-small",color:"info",elevation:"0"},{default:l(()=>[i(s(t.$t("pending")),1)]),_:1})):e.status==1?(o(),p(u,{key:1,size:"x-small",color:"success",elevation:"0"},{default:l(()=>[i(s(t.$t("accepted")),1)]),_:1})):(o(),p(u,{key:2,size:"x-small",color:"error",elevation:"0"},{default:l(()=>[i(s(t.$t("rejected")),1)]),_:1}))]),_:2},1032,["headers","items","loading-text","loading"]),t.totalPages>1?(o(),r("div",x,[_(b,{modelValue:t.currentPage,"onUpdate:modelValue":[a[0]||(a[0]=e=>t.currentPage=e),g.getList],length:t.totalPages,"prev-icon":"las la-angle-left","next-icon":"las la-angle-right","total-visible":7,elevation:"0",class:"my-4"},null,8,["modelValue","onUpdate:modelValue","length"])])):m("",!0)])])}const G=w(q,[["render",D]]);export{G as default};
