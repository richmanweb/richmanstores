import{_ as q,u as I,c as U,a as f,e as F,m as c,b as A,d as _,f as d,o as l,v as D,w as n,h as r,i as t,t as a,j as R,g as i,k as u,F as p,l as v,n as B,p as N}from"./app-5fa057e7.js";const S={data:()=>({v$:I(),loading:!1,mobileInputProps:{inputOptions:{type:"tel",placeholder:"phone number"},dropdownOptions:{showDialCodeInSelection:!1,showFlags:!0,showDialCodeInList:!0},autoDefaultCountry:!1,validCharactersOnly:!0,mode:"international"},form:{name:"",email:"",password:"",confirmPassword:"",phone:"",address:"",description:"",invalidPhone:!0,showInvalidPhone:!1}}),components:{VueTelInput:U},validations:{form:{name:{required:f},email:{required:f,email:F},phone:{required:f},address:{required:f},description:{required:f}}},computed:{...c("auth",["isAuthenticated"]),...c("app",["generalSettings","availableCountries"])},methods:{...A("auth",["login"]),..._("cart",["removeTempUserId"]),..._("auth",["updateChatWindow","showLoginDialog"]),phoneValidate(e){this.form.invalidPhone=!e.valid,e.valid&&(this.form.showInvalidPhone=!1)},async submitRequest(){if(!await this.v$.$validate())return;if(this.form.invalidPhone){this.form.showInvalidPhone=!0;return}this.form.phone=this.form.phone.replace(/\s/g,""),this.loading=!0;const o=await this.call_api("post","user/affiliate/store",this.form);o.data.status==400&&this.snack({message:o.data.message,color:"yellow"}),o.data.success?(this.snack({color:"green",message:o.data.message}),this.$router.push({name:"AffiliateRegConfirmation"})):this.snack({message:o.data.message,color:"red"}),this.loading=!1},resetForm(){this.form.name="",this.form.phone="",this.form.email="",this.form.invalidPhone=!0,this.form.showInvalidPhone=!1,this.form.address="",this.form.description=""}}},L={class:"text-h3 fw-700 mb-8"},O={class:"text-h6 fw-600 opacity-80"},T={class:"mb-4"},M={class:"mb-1 fs-13 fw-500"},j={class:"mb-4"},z={class:"fs-13 fw-500"},E={key:0},G={class:"mb-4"},W={class:"mb-1 fs-13 fw-500"},H={class:"mb-4"},J={class:"mb-1 fs-13 fw-500"},K={class:"mb-4"},Q={class:"mb-1 fs-13 fw-500"},X={key:0,class:"v-text-field__details mt-2 pl-3"},Y={class:"v-messages theme--light error--text",role:"alert"},Z={class:"v-messages__wrapper text-red"},x={class:"v-messages__message"},ee={key:1,class:"v-text-field__details mt-2 pl-3"},se={class:"v-messages theme--light error--text",role:"alert"},oe={class:"v-messages__wrapper text-red"},te={class:"v-messages__message"},ae={class:"mb-4"},le={class:"mb-1 fs-13 fw-500"},ie={class:"mb-4"},re={class:"mb-1 fs-13 fw-500"};function de(e,o,ne,me,ue,h){const $=d("v-card-title"),m=d("v-text-field"),w=d("vue-tel-input"),g=d("v-card-text"),b=d("v-card"),y=d("v-btn"),V=d("v-form"),k=d("v-col"),C=d("v-row"),P=d("v-container");return l(),D(P,{class:"py-6"},{default:n(()=>[r(C,null,{default:n(()=>[r(k,{cols:"12",lg:"10",md:"12",sm:"12",class:"mx-auto"},{default:n(()=>[t("h1",L,a(e.$t("affiliate_informations")),1),r(V,{"lazy-validation":"",onSubmit:o[7]||(o[7]=R(s=>h.submitRequest(),["prevent"]))},{default:n(()=>[r(b,{class:"border",elevation:"0"},{default:n(()=>[r($,null,{default:n(()=>[t("span",O,a(e.$t("verification_info")),1)]),_:1}),r(g,null,{default:n(()=>[t("div",T,[t("div",M,a(e.$t("your_name")),1),r(m,{variant:"plain",class:"text-field",placeholder:e.$t("full_name"),type:"text",modelValue:e.form.name,"onUpdate:modelValue":o[0]||(o[0]=s=>e.form.name=s),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue"]),(l(!0),i(p,null,u(e.v$.form.name.$errors,s=>(l(),i("p",{key:s.$uid,class:"text-red"},a(s.$message),1))),128))]),t("div",j,[t("div",z,a(e.$t("your_email")),1),r(m,{variant:"plain",class:"text-field",placeholder:e.$t("email_address"),type:"email",modelValue:e.form.email,"onUpdate:modelValue":o[1]||(o[1]=s=>e.form.email=s),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue"]),(l(!0),i(p,null,u(e.v$.form.email.$errors,s=>(l(),i("p",{key:s.$uid,class:"text-red"},a(s.$message),1))),128))]),e.isAuthenticated?v("",!0):(l(),i("div",E,[t("div",G,[t("div",W,a(e.$t("password")),1),r(m,{variant:"plain",placeholder:"* * * * * * * *",modelValue:e.form.password,"onUpdate:modelValue":o[2]||(o[2]=s=>e.form.password=s),type:"password",class:"input-group--focused text-field","hide-details":"auto",required:"",outlined:""},null,8,["modelValue"]),(l(!0),i(p,null,u(e.v$.form.password.$errors,s=>(l(),i("p",{key:s.$uid,class:"text-red"},a(s.$message),1))),128))]),t("div",H,[t("div",J,a(e.$t("confirm_password")),1),r(m,{variant:"plain",placeholder:"* * * * * * * *",modelValue:e.form.confirmPassword,"onUpdate:modelValue":o[3]||(o[3]=s=>e.form.confirmPassword=s),type:"password",class:"input-group--focused text-field","hide-details":"auto",required:"",outlined:""},null,8,["modelValue"]),(l(!0),i(p,null,u(e.v$.form.confirmPassword.$errors,s=>(l(),i("p",{key:s.$uid,class:"text-red"},a(s.$message),1))),128))])])),t("div",K,[t("div",Q,a(e.$t("phone_number")),1),r(w,B({modelValue:e.form.phone,"onUpdate:modelValue":o[4]||(o[4]=s=>e.form.phone=s)},e.mobileInputProps,{onlyCountries:e.availableCountries,onValidate:h.phoneValidate}),{default:n(()=>o[8]||(o[8]=[t("template",{slot:"arrow-icon"},[t("span",{class:"vti__dropdown-arrow"}," ▼")],-1)])),_:1},16,["modelValue","onlyCountries","onValidate"]),e.v$.form.phone.$error?(l(),i("div",X,[t("div",Y,[t("div",Z,[t("div",x,a(e.$t("this_field_is_required")),1)])])])):v("",!0),!e.v$.form.phone.$error&&e.form.showInvalidPhone?(l(),i("div",ee,[t("div",se,[t("div",oe,[t("div",te,a(e.$t("phone_number_must_be_valid")),1)])])])):v("",!0)]),t("div",ae,[t("div",le,a(e.$t("full_address")),1),r(m,{variant:"plain",class:"text-field",placeholder:e.$t("full_address"),type:"text",modelValue:e.form.address,"onUpdate:modelValue":o[5]||(o[5]=s=>e.form.address=s),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue"]),(l(!0),i(p,null,u(e.v$.form.address.$errors,s=>(l(),i("p",{key:s.$uid,class:"text-red"},a(s.$message),1))),128))]),t("div",ie,[t("div",re,a(e.$t("how_will_you_affiliate?")),1),r(m,{variant:"plain",class:"text-field",placeholder:e.$t("description"),type:"text",modelValue:e.form.description,"onUpdate:modelValue":o[6]||(o[6]=s=>e.form.description=s),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue"]),(l(!0),i(p,null,u(e.v$.form.description.$errors,s=>(l(),i("p",{key:s.$uid,class:"text-red"},a(s.$message),1))),128))])]),_:1})]),_:1}),r(y,{"x-large":"",class:"px-12 mb-4 w-100 mt-5",elevation:"0",type:"submit",color:"primary",onClick:h.submitRequest,loading:e.loading,disabled:e.loading},{default:n(()=>[N(a(e.$t("save")),1)]),_:1},8,["onClick","loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})}const fe=q(S,[["render",de]]);export{fe as default};
