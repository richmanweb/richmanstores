import{_ as y,f as n,o as m,v as p,w as a,i as o,h as l,t as s,m as P,b as V,p as h,u as x,a as A,g as v,k as R,F as S,j as k}from"./app-194617d4.js";import{W as H}from"./WithdrawDialog-f4465294.js";const W={data:()=>({loading:!0,currentPage:1,totalPages:1,earningtHistory:[]}),computed:{headers(){return[{title:this.$i18n.t("amount"),align:"start",sortable:!1,value:"amount"},{title:this.$i18n.t("order_id"),sortable:!1,align:"start",value:"order_id"},{title:this.$i18n.t("referrel_type"),sortable:!1,align:"start",value:"referrel_type"},{title:this.$i18n.t("product"),sortable:!1,align:"start",value:"product"},{title:this.$i18n.t("date"),sortable:!1,align:"start",value:"date"}]}},methods:{async getEarningHistory(e){this.loading=!0;const t=await this.call_api("get",`user/affiliate/earning-history?page=${e}`);t.status==200?(this.earningtHistory=t.data.data,this.totalPages=t.data.meta.last_page,this.currentPage=t.data.meta.current_page):this.snack({message:this.$i18n.t("something_went_wrong"),color:"red"}),this.loading=!1}},created(){let e=this.$route.query.page||this.currentPage;this.getEarningHistory(e)}},B={class:"mt-4"},T={class:"fs-21 fw-700 opacity-80 mb-5"},E={class:"text-start"};function U(e,t,$,b,w,r){const f=n("v-data-table"),d=n("v-pagination"),_=n("v-card-text"),u=n("v-card"),i=n("v-col");return m(),p(i,null,{default:a(()=>[o("div",B,[l(u,{class:"mx-auto"},{default:a(()=>[l(_,null,{default:a(()=>[o("h1",T,s(e.$t("affiliate_earning_history")),1),l(f,{headers:r.headers,items:e.earningtHistory,class:"border px-4 pt-3","hide-default-footer":"","item-class":"c-pointer"},null,8,["headers","items"]),o("div",E,[l(d,{modelValue:e.currentPage,"onUpdate:modelValue":[t[0]||(t[0]=c=>e.currentPage=c),r.getEarningHistory],length:e.totalPages,"prev-icon":"las la-angle-left","next-icon":"las la-angle-right","total-visible":7,elevation:"0",class:"my-4"},null,8,["modelValue","onUpdate:modelValue","length"])])]),_:1})]),_:1})])]),_:1})}const I=y(W,[["render",U]]),F={data:()=>({loading:!0,currentPage:1,totalPages:1,paymentHistory:[]}),computed:{...P("affiliate",["getAffiliateBalance"]),headers(){return[{title:this.$i18n.t("date"),align:"start",sortable:!1,value:"date"},{title:this.$i18n.t("amount"),align:"start",sortable:!1,value:"amount"},{title:this.$i18n.t("payment_method"),sortable:!1,align:"end",value:"payment_method"}]}},methods:{...V("affiliate",["fetchAffiliateBalance"]),async getPaymentHistory(e){this.loading=!0;const t=await this.call_api("get",`user/affiliate/payment-history?page=${e}`);t.status==200?(this.paymentHistory=t.data.data,this.totalPages=t.data.meta.last_page,this.currentPage=t.data.meta.current_page):this.snack({message:this.$i18n.t("something_went_wrong"),color:"red"}),this.loading=!1}},created(){let e=this.$route.query.page||this.currentPage;this.getPaymentHistory(e),this.fetchAffiliateBalance()}},L={class:"mt-4"},j={class:"fs-21 fw-700 opacity-80 mb-5"},N={class:"d-block fw-600"},z={class:"d-block fw-600"},G={class:"d-block fw-600"},M={class:"text-start"};function J(e,t,$,b,w,r){const f=n("v-data-table"),d=n("v-pagination"),_=n("v-card-text"),u=n("v-card"),i=n("v-col");return m(),p(i,null,{default:a(()=>[o("div",L,[l(u,{class:"mx-auto"},{default:a(()=>[l(_,null,{default:a(()=>[o("h1",j,s(e.$t("affiliate_payment_history")),1),l(f,{headers:r.headers,items:e.paymentHistory,class:"border px-4 pt-3","hide-default-footer":"","item-class":"c-pointer"},{"item.date":a(({item:c})=>[o("span",N,s(c.date),1)]),"item.amount":a(({item:c})=>[o("span",z,s(c.amount),1)]),"item.payment_method":a(({item:c})=>[o("span",G,s(c.payment_method),1)]),_:2},1032,["headers","items"]),o("div",M,[l(d,{modelValue:e.currentPage,"onUpdate:modelValue":[t[0]||(t[0]=c=>e.currentPage=c),r.getPaymentHistory],length:e.totalPages,"prev-icon":"las la-angle-left","next-icon":"las la-angle-right","total-visible":7,elevation:"0",class:"my-4"},null,8,["modelValue","onUpdate:modelValue","length"])])]),_:1})]),_:1})])]),_:1})}const K=y(F,[["render",J]]),O={data:()=>({loading:!0}),computed:{...P("affiliate",["getWithdrawRequest","getWithdrawRequestCurrentPage","getWithdrawRequestLastPage"]),headers(){return[{title:this.$i18n.t("date"),align:"start",sortable:!1,value:"date"},{title:this.$i18n.t("amount"),align:"start",sortable:!1,value:"amount"},{title:this.$i18n.t("status"),sortable:!1,align:"end",value:"status"}]}},methods:{...V("affiliate",["fetchWithdrawRequest"])},created(){let e=this.$route.query.page||this.currentPage;this.fetchWithdrawRequest(e)}},Q={class:"mt-4"},X={class:"fs-21 fw-700 opacity-80 mb-5"},Y={class:"d-block fw-600"},Z={class:"d-block fw-600"},ee={class:"text-start"};function te(e,t,$,b,w,r){const f=n("v-btn"),d=n("v-data-table"),_=n("v-pagination"),u=n("v-card-text"),i=n("v-card"),c=n("v-col");return m(),p(c,null,{default:a(()=>[o("div",Q,[l(i,{class:"mx-auto"},{default:a(()=>[l(u,null,{default:a(()=>[o("h1",X,s(e.$t("affiliate_withdraw_request_history")),1),l(d,{headers:r.headers,items:e.getWithdrawRequest,class:"border px-4 pt-3","hide-default-footer":"","item-class":"c-pointer"},{"item.date":a(({item:g})=>[o("span",Y,s(g.date),1)]),"item.amount":a(({item:g})=>[o("span",Z,s(g.amount),1)]),"item.status":a(({item:g})=>[g.status==1?(m(),p(f,{key:0,"x-small":"",color:"success"},{default:a(()=>[h(s(e.$t("accepted")),1)]),_:1})):g.status==2?(m(),p(f,{key:1,"x-small":"",color:"error"},{default:a(()=>[h(s(e.$t("rejected")),1)]),_:1})):(m(),p(f,{key:2,"x-small":"",color:"info"},{default:a(()=>[h(s(e.$t("pending")),1)]),_:1}))]),_:2},1032,["headers","items"]),o("div",ee,[l(_,{modelValue:e.getWithdrawRequestCurrentPage,"onUpdate:modelValue":[t[0]||(t[0]=g=>e.getWithdrawRequestCurrentPage=g),this.fetchWithdrawRequest],length:e.getWithdrawRequestLastPage,"prev-icon":"las la-angle-left","next-icon":"las la-angle-right","total-visible":7,elevation:"0",class:"my-4"},null,8,["modelValue","onUpdate:modelValue","length"])])]),_:1})]),_:1})])]),_:1})}const ae=y(O,[["render",te]]),le={props:{show:{type:Boolean,required:!0,default:!1}},data:()=>({v$:x(),loading:!1,form:{paypalEmail:"",bankInformations:""}}),validations:{form:{paypalEmail:{required:A},bankInformations:{required:A}}},computed:{isVisible:{get:function(){return this.show},set:function(e){}}},methods:{closeDialog(){this.isVisible=!1,this.$emit("close")},async storePaymentSettings(){if(!await this.v$.$validate())return;this.loading=!1;const t=await this.call_api("post","user/affiliate/payment-settings",this.form);this.snack({message:this.$i18n.t(t.data.message),color:"green"}),this.$refs.paymentForm.reset(),this.loading=!1,this.closeDialog()}}},oe={class:"white pa-5 rounded"},se={class:"opacity-80 mb-3 fs-18 mt-3"},ne={class:"text-right mt-4"};function ie(e,t,$,b,w,r){const f=n("v-text-field"),d=n("v-btn"),_=n("v-form"),u=n("v-dialog");return m(),p(u,{modelValue:r.isVisible,"onUpdate:modelValue":t[3]||(t[3]=i=>r.isVisible=i),"max-width":"700px","onClick:outside":r.closeDialog},{default:a(()=>[o("div",oe,[l(_,{ref:"paymentForm","lazy-validation":"",onSubmit:t[2]||(t[2]=k(i=>r.storePaymentSettings(),["prevent"])),autocomplete:"chrome-off"},{default:a(()=>[o("h3",se,s(e.$t("payment_settings")),1),l(f,{variant:"plain",class:"text-field",placeholder:e.$t("paypal_email"),type:"email",modelValue:e.form.paypalEmail,"onUpdate:modelValue":t[0]||(t[0]=i=>e.form.paypalEmail=i),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue"]),(m(!0),v(S,null,R(e.v$.form.paypalEmail.$errors,i=>(m(),v("p",{key:i.$uid,class:"text-red"},s(i.$message),1))),128)),l(f,{variant:"plain",class:"mt-4 text-field",placeholder:e.$t("bank_informations"),type:"text",modelValue:e.form.bankInformations,"onUpdate:modelValue":t[1]||(t[1]=i=>e.form.bankInformations=i),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue"]),(m(!0),v(S,null,R(e.v$.form.bankInformations.$errors,i=>(m(),v("p",{key:i.$uid,class:"text-red"},s(i.$message),1))),128)),o("div",ne,[l(d,{elevation:"0",class:"mr-4",text:"",onClick:r.closeDialog},{default:a(()=>[h(s(e.$t("cancel")),1)]),_:1},8,["onClick"]),l(d,{elevation:"0",type:"submit",color:"primary",onClick:r.storePaymentSettings,loading:e.loading,disabled:e.loading},{default:a(()=>[h(s(e.$t("update")),1)]),_:1},8,["onClick","loading","disabled"])])]),_:1},512)])]),_:1},8,["modelValue","onClick:outside"])}const re=y(le,[["render",ie]]),de={data:()=>({withdrawDialogShow:!1,ConfigPayoutDialogShow:!1,loading:!0,currentPage:1,totalPages:1,products:[],referrelCode:""}),components:{WithdrawDialog:H,ConfigPayoutDialog:re,AffiliateEarningHistory:I,AffiliatePaymentHistory:K,AffiliatePaymentWithdraw:ae},computed:{...P("affiliate",["getAffiliateBalance","getReferralCode","getTotalClick","getTotalItem","getTotalDelevered","getTotalCancel"])},methods:{...V("affiliate",["fetchAffiliateBalance","fetchAffiliateReferralCode","fetchAffiliateStats"]),copyText(e){const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},withdrawDialogClosed(){this.withdrawDialogShow=!1},ConfigPayoutDialogClosed(){this.ConfigPayoutDialogShow=!1}},created(){this.fetchAffiliateBalance(),this.fetchAffiliateReferralCode(),this.fetchAffiliateStats()}},ce={class:"ps-lg-7 pt-4"},ue={class:"fs-21 fw-700 opacity-80 mb-5"},fe={class:"fs-14 mb-3 fw-700 primary--text"},me={class:"fw-500 text-h4"},ge={class:"fs-14 mb-3 w-100"},_e={class:"fs-14 mb-3 w-100"},pe={class:"fs-21 fw-700 opacity-80 mb-5"},he={class:"fs-14 mb-3 w-100"},ve={class:"fs-14 mb-3 w-100"},ye={class:"fs-14 mb-3 w-100"},$e={class:"fs-14 mb-3 w-100"};function be(e,t,$,b,w,r){const f=n("v-sheet"),d=n("v-col"),_=n("config-payout-dialog"),u=n("v-btn"),i=n("withdraw-dialog"),c=n("v-row"),g=n("v-text-field"),D=n("v-card-text"),q=n("v-card");return m(),v("div",null,[o("div",ce,[o("h1",ue,s(e.$t("affiliate")),1),l(c,null,{default:a(()=>[l(d,{cols:"12",sm:"4"},{default:a(()=>[l(f,{color:"grey darken-3",rounded:"rounded",elevation:"0",height:"130",class:"d-flex justify-center align-center white--text flex-column"},{default:a(()=>[o("div",fe,s(e.$t("affiliate_balance")),1),o("div",me,s(e.getAffiliateBalance),1)]),_:1})]),_:1}),l(d,{cols:"12",sm:"4"},{default:a(()=>[l(_,{show:e.ConfigPayoutDialogShow,onClose:r.ConfigPayoutDialogClosed},null,8,["show","onClose"]),l(u,{class:"border border-gray-300 h-100 py-6",elevation:"0",block:"","x-large":"",onClick:t[0]||(t[0]=k(C=>e.ConfigPayoutDialogShow=!0,["stop"]))},{default:a(()=>[o("span",null,[o("div",ge,s(e.$t("configure_payout")),1),t[4]||(t[4]=o("i",{class:"las la-cog la-3x opacity-70"},null,-1))])]),_:1})]),_:1}),l(d,{cols:"12",sm:"4"},{default:a(()=>[l(i,{show:e.withdrawDialogShow,onClose:r.withdrawDialogClosed},null,8,["show","onClose"]),l(u,{class:"border-dashed bg-grey-lighten-4 border-gray-300 h-100 py-6",elevation:"0",block:"","x-large":"",onClick:t[1]||(t[1]=k(C=>e.withdrawDialogShow=!0,["stop"]))},{default:a(()=>[o("span",null,[o("div",_e,s(e.$t("affiliate_withdraw_request")),1),t[5]||(t[5]=o("i",{class:"las la-plus la-3x opacity-70"},null,-1))])]),_:1})]),_:1})]),_:1}),l(c,null,{default:a(()=>[l(d,{cols:"12",sm:"12"},{default:a(()=>[l(q,{class:"mx-auto","prepend-icon":"mdi-home"},{default:a(()=>[l(D,null,{default:a(()=>[l(g,{readonly:"",modelValue:e.getReferralCode,"onUpdate:modelValue":t[2]||(t[2]=C=>e.getReferralCode=C),ref:"textToCopy",id:"referralLink"},null,8,["modelValue"]),l(u,{onClick:t[3]||(t[3]=C=>r.copyText(e.getReferralCode))},{default:a(()=>t[6]||(t[6]=[h("copy")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(c,null,{default:a(()=>[l(d,{cols:"12",sm:"12"},{default:a(()=>[l(q,{class:"mx-auto"},{default:a(()=>[l(D,null,{default:a(()=>[o("h1",pe,s(e.$t("affiliate_status")),1),l(c,null,{default:a(()=>[l(d,{cols:"12",sm:"3"},{default:a(()=>[l(u,{class:"border border-gray-300 h-100 py-6",elevation:"0",block:"","x-large":""},{default:a(()=>[o("span",null,[o("h1",null,s(e.getTotalClick),1),o("div",he,s(e.$t("no_of_click")),1)])]),_:1})]),_:1}),l(d,{cols:"12",sm:"3"},{default:a(()=>[l(u,{class:"border border-gray-300 h-100 py-6",elevation:"0",block:"","x-large":""},{default:a(()=>[o("span",null,[o("h1",null,s(e.getTotalItem),1),o("div",ve,s(e.$t("no_of_item")),1)])]),_:1})]),_:1}),l(d,{cols:"12",sm:"3"},{default:a(()=>[l(u,{class:"border border-gray-300 h-100 py-6",elevation:"0",block:"","x-large":""},{default:a(()=>[o("span",null,[o("h1",null,s(e.getTotalDelevered),1),o("div",ye,s(e.$t("no_of_delivered")),1)])]),_:1})]),_:1}),l(d,{cols:"12",sm:"3"},{default:a(()=>[l(u,{class:"border border-gray-300 h-100 py-6",elevation:"0",block:"","x-large":""},{default:a(()=>[o("span",null,[o("h1",null,s(e.getTotalCancel),1),o("div",$e,s(e.$t("no_of_cancel")),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])])}const ke=y(de,[["render",be]]);export{ke as default};
