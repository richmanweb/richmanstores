import{_ as F,c8 as j,f as r,o as n,g as d,h as s,w as l,i as t,t as i,j as _,A as w,F as B,k as P,v as m,p as y,l as z}from"./app-df9a586a.js";const O={head:{title:"All Blogs"},data:()=>({loading:!0,searchKeyword:"",currentPage:1,totalPages:1,blogs:[{},{},{}],recentBlogs:[{},{},{},{},{}],filterDrawerOpen:!1,blogCategories:[],queryParamBlog:{page:1,categorySlug:null,searchKeyword:""},currentCategory:{}}),components:{SocialShare:j},methods:{toggleFilterDrawer(e){this.filterDrawerOpen=e},pageSwitch(e){this.$router.push({query:{...this.$route.query,page:this.queryParamBlog.page}}).catch(()=>{}),this.getBlogList({page:e})},search(){this.$router.push({name:"SearchBlogs",params:this.queryParamBlog.searchKeyword.length>0?{searchKeyword:this.queryParamBlog.searchKeyword}:{},query:{page:1}}).catch(()=>{})},async getBlogCategories(){const e=await this.call_api("get","all-blog-categories");e.data.success?(this.blogCategories=e.data.data,this.recentBlogs=e.data.recentBlogs.data):this.snack({message:this.$i18n.t("something_went_wrong"),color:"red"})},async getBlogList(e){this.loading=!0;let a={...this.queryParamBlog,...e},u="all-blogs/search?";u+=`&page=${this.queryParamBlog.page}`,u+=a.categorySlug?`&category_slug=${a.categorySlug}`:"",u+=a.searchKeyword?`&searchKeyword=${a.searchKeyword}`:"";const c=await this.call_api("get",u);c.data.success&&(this.blogs=c.data.blogs.data,this.totalPages=c.data.totalPage,this.queryParamBlog.page=c.data.currentPage,this.currentCategory=c.data.currentCategory?c.data.currentCategory:{}),a.searchKeyword.length>0&&(this.searchKeyword=a.searchKeyword),this.loading=!1}},async created(){this.queryParamBlog.categorySlug=this.$route.params.categorySlug||this.queryParamBlog.categorySlug,this.queryParamBlog.searchKeyword=this.$route.params.searchKeyword||this.queryParamBlog.searchKeyword,this.$route.query.page&&(this.queryParamBlog.page=this.$route.query.page),this.getBlogCategories(),this.getBlogList({page:this.queryParamBlog.page,categorySlug:this.queryParamBlog.categorySlug,searchKeyword:this.queryParamBlog.searchKeyword})}},L={class:"border-bottom pa-5 d-lg-none d-flex align-center"},N={class:"ms-4 fw-600 fs-14 lh-1"},x={class:"pa-5 min-100vh"},U={class:"mb-5"},E={class:"mb-5"},I={class:"fw-700 fs-14 mb-4 border-bottom pb-3"},T={class:"list-unstyled ps-0"},G={class:"my-2"},J={class:"mb-6"},Q={class:"fw-700 fs-14 mb-4 border-bottom pb-3"},R={class:"list-unstyled ps-0"},W={class:"my-2"},X={class:"pt-5 ps-lg-7"},Y={class:"d-flex align-center"},ee={key:0,class:"fs-18"},te={key:1,class:"fs-18"},ae={key:2,class:"fs-18 ml-2"},se={class:"d-lg-none ms-auto ms-sm-0"},le={class:"mb-7"},oe={key:0},re={slot:"progress"},ne={class:"grey--text d-block"},ie={class:"grey--text"},de={key:1,class:"pa-4 text-center fs-20"},ce={key:0,class:"text-center"};function ge(e,a,u,c,ue,h){const k=r("v-text-field"),g=r("v-col"),b=r("v-btn"),p=r("v-row"),$=r("v-form"),f=r("router-link"),q=r("SocialShare"),C=r("v-skeleton-loader"),S=r("v-progress-linear"),K=r("v-img"),H=r("v-card-title"),A=r("v-card-text"),Z=r("v-card-actions"),V=r("v-card"),D=r("v-pagination"),M=r("v-container");return n(),d("div",null,[s(M,{class:"pt-0 all-blogs"},{default:l(()=>[s(p,{"no-gutters":"",align:"start"},{default:l(()=>[s(g,{lg:"3",class:"w-lg-270px sticky-top"},{default:l(()=>[t("div",{class:w(["border-end filter-drawer",{"open c-scrollbar overflow-y-auto z-1020":e.filterDrawerOpen}])},[t("div",L,[a[7]||(a[7]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[t("path",{id:"Path_2643","data-name":"Path 2643",d:"M20,5H18.829a3,3,0,0,0-5.659,0H4A1,1,0,0,0,4,7h9.171a3,3,0,0,0,5.659,0H20a1,1,0,0,0,0-2ZM16,7a1,1,0,1,0-1-1A1,1,0,0,0,16,7ZM3,12a1,1,0,0,1,1-1H5.171a3,3,0,0,1,5.659,0H20a1,1,0,0,1,0,2H10.829a3,3,0,0,1-5.659,0H4A1,1,0,0,1,3,12Zm5,1a1,1,0,1,0-1-1A1,1,0,0,0,8,13ZM4,17a1,1,0,0,0,0,2h9.171a3,3,0,0,0,5.659,0H20a1,1,0,0,0,0-2H18.829a3,3,0,0,0-5.659,0Zm13,1a1,1,0,1,1-1-1A1,1,0,0,1,17,18Z",transform:"translate(-3 -3)",fill:"#2a2e34","fill-rule":"evenodd"})],-1)),t("span",N,i(e.$t("filters")),1),t("button",{type:"button",onClick:a[0]||(a[0]=_(o=>h.toggleFilterDrawer(!e.filterDrawerOpen),["stop"])),class:"ms-4 fw-600 fs-20 lh-1 ms-auto"},a[6]||(a[6]=[t("i",{class:"la la-close fs-20"},null,-1)]))]),t("div",x,[t("div",U,[s($,{class:"border rounded-pill flex-grow-1",onSubmit:a[3]||(a[3]=_(o=>h.search(),["stop","prevent"])),rounded:""},{default:l(()=>[s(p,{align:"center",dense:""},{default:l(()=>[s(g,{class:""},{default:l(()=>[s(k,{placeholder:e.$t("search"),type:"text","hide-details":"auto",variant:"plain",modelValue:e.queryParamBlog.searchKeyword,"onUpdate:modelValue":a[1]||(a[1]=o=>e.queryParamBlog.searchKeyword=o),solo:"",flat:"",dense:"",class:"border-0 px-3 search-input-field"},null,8,["placeholder","modelValue"])]),_:1}),s(g,{cols:"auto",class:""},{default:l(()=>[s(b,{size:"small",icon:"$vuetify",class:"me-1 shadow-none",onClick:a[2]||(a[2]=_(o=>h.search(),["stop","prevent"]))},{default:l(()=>a[8]||(a[8]=[t("i",{class:"las la-search fs-18 ts-05"},null,-1)])),_:1})]),_:1})]),_:1})]),_:1})]),t("div",E,[t("h4",I,i(e.$t("categories")),1),t("div",null,[t("ul",T,[t("div",null,[t("li",G,[s(f,{to:{name:"AllBlogs"},class:w(["text-reset fs-14",{"fw-600":e.is_empty_obj(e.currentCategory)}])},{default:l(()=>[t("span",null,i(e.$t("all_categories")),1)]),_:1},8,["class"])]),(n(!0),d(B,null,P(e.blogCategories,(o,v)=>(n(),d("li",{key:v,class:"my-2"},[e.is_empty_obj(e.currentCategory)?(n(),m(f,{key:0,to:{name:"AllBlogsFilter",params:{categorySlug:o.slug}},class:"text-reset fs-14"},{default:l(()=>[y(i(o.name),1)]),_:2},1032,["to"])):(n(),m(f,{key:1,to:{name:"AllBlogsFilter",params:{categorySlug:o.slug}},class:w(["text-reset fs-14",{"fw-600":e.currentCategory.slug===o.slug}])},{default:l(()=>[y(i(o.name),1)]),_:2},1032,["to","class"]))]))),128))])])])]),t("div",J,[t("h4",Q,i(e.$t("social_media")),1),t("div",null,[t("ul",R,[t("div",null,[t("li",W,[s(q,{title:e.$t("all_blogs")},null,8,["title"])])])])])])])],2)]),_:1}),s(g,{lg:"9",class:"v-col-auto"},{default:l(()=>[t("div",X,[s(p,{align:"end",class:""},{default:l(()=>[s(g,{cols:"12",sm:"",class:"pb-0 pt-3"},{default:l(()=>[t("div",Y,[t("div",null,[e.searchKeyword.length>0?(n(),d("h1",ee,i(e.$t("search_results_for"))+' "'+i(e.searchKeyword)+'"',1)):e.is_empty_obj(e.currentCategory)?(n(),d("h1",ae,i(e.$t("all_blogs")),1)):(n(),d("h1",te,i(e.currentCategory.name),1))]),t("div",se,[t("button",{class:"ms-4 pa-2 border-gray-300 rounded border d-flex justify-center align-center",onClick:a[4]||(a[4]=_(o=>h.toggleFilterDrawer(!e.filterDrawerOpen),["stop"])),type:"button"},a[9]||(a[9]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[t("path",{id:"Path_2643","data-name":"Path 2643",d:"M20,5H18.829a3,3,0,0,0-5.659,0H4A1,1,0,0,0,4,7h9.171a3,3,0,0,0,5.659,0H20a1,1,0,0,0,0-2ZM16,7a1,1,0,1,0-1-1A1,1,0,0,0,16,7ZM3,12a1,1,0,0,1,1-1H5.171a3,3,0,0,1,5.659,0H20a1,1,0,0,1,0,2H10.829a3,3,0,0,1-5.659,0H4A1,1,0,0,1,3,12Zm5,1a1,1,0,1,0-1-1A1,1,0,0,0,8,13ZM4,17a1,1,0,0,0,0,2h9.171a3,3,0,0,0,5.659,0H20a1,1,0,0,0,0-2H18.829a3,3,0,0,0-5.659,0Zm13,1a1,1,0,1,1-1-1A1,1,0,0,1,17,18Z",transform:"translate(-3 -3)",fill:"#2a2e34","fill-rule":"evenodd"})],-1)]))])])]),_:1})]),_:1}),t("div",le,[e.blogs.length>0?(n(),m(p,{key:0,class:"row-cols-2 row-cols-sm-2 row-cols-md-3 row-cols-xl-3 md-gutters-10"},{default:l(()=>[(n(!0),d(B,null,P(e.blogs,(o,v)=>(n(),m(g,{key:v,cols:"8",sm:"4"},{default:l(()=>[e.loading?(n(),d("div",oe,[s(C,{type:"image",class:"pa-2",height:"100"})])):(n(),m(V,{key:1,class:"mx-auto my-6 mx-lg-2 border",style:{"box-shadow":"none"}},{default:l(()=>[t("template",re,[s(S,{color:"deep-purple",height:"10",indeterminate:""})]),s(K,{height:"250",src:o.banner,cover:""},null,8,["src"]),s(H,{style:{"font-size":"1rem","line-height":"1.6","white-space":"normal"},class:"text-truncate-2 py-0 my-4 blog-title"},{default:l(()=>[y(i(o.title),1)]),_:2},1024),s(A,{class:"pb-0"},{default:l(()=>[t("span",ne,[t("i",null,i(o.category),1)]),t("span",ie,i(o.created_at),1)]),_:2},1024),s(Z,{class:"pt-1"},{default:l(()=>[s(b,{color:"primary",text:"",to:{name:"BlogDetails",params:{slug:o.slug}},class:"text-capitalize"},{default:l(()=>[y(i(e.$t("read_full_blog")),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))]),_:2},1024))),128))]),_:1})):(n(),d("div",de,i(e.$t("no_blog_found")),1))]),e.totalPages>1?(n(),d("div",ce,[s(D,{modelValue:e.queryParamBlog.page,"onUpdate:modelValue":[a[5]||(a[5]=o=>e.queryParamBlog.page=o),h.pageSwitch],length:e.totalPages,"prev-icon":"las la-angle-left","next-icon":"las la-angle-right","total-visible":7,elevation:"0",class:"my-4"},null,8,["modelValue","length","onUpdate:modelValue"])])):z("",!0)])]),_:1})]),_:1})]),_:1})])}const me=F(O,[["render",ge],["__scopeId","data-v-f1b37dea"]]);export{me as default};
