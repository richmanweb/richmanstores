import{S as A}from"./ShopBannerSectionTwo-881e3f23.js";import{S as L}from"./ShowMore-d34d53a2.js";import{_ as U,f as m,o as r,v as p,w as i,h as n,i as a,t as o,j as C,g as l,k as y,p as V,F as g,l as w,A as B}from"./app-d918d935.js";const j={components:{ShowMore:L,ShopBannerSectionTwo:A},data:()=>({loading:!0,filterDrawerOpen:!1,totalProducts:0,totalPages:1,queryParam:{page:1,categorySlug:null,brandIds:[],attributeValues:[],keyword:null,sortBy:"popular",minPrice:null,maxPrice:null},productsBanners:[],attributes:[],allBrands:[],rootCategories:[],parentCategory:{},currentCategory:{},childCategories:[],products:[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}),computed:{sortingOptions(){return[{name:this.$i18n.t("most_popular"),value:"popular"},{name:this.$i18n.t("latest_first"),value:"latest"},{name:this.$i18n.t("oldest_first"),value:"oldest"},{name:this.$i18n.t("higher_price_first"),value:"highest_price"},{name:this.$i18n.t("lower_price_first"),value:"lowest_price"}]},sortingDefault:{get(){return{name:this.$i18n.t("most_popular"),value:"popular"}},set(e){}}},methods:{pageSwitch(e){this.$router.push({query:{...this.$route.query,page:this.queryParam.page}}).catch(()=>{}),this.getList({page:e})},sortUpdate(e){this.queryParam.sortBy=e,this.$router.push({query:{...this.$route.query,sortBy:this.queryParam.sortBy}}).catch(()=>{}),this.getList({sortBy:e})},brandChange(e){if(this.queryParam.brandIds.indexOf(e)>-1){let t=this.queryParam.brandIds.indexOf(e);this.queryParam.brandIds.splice(t,1)}else this.queryParam.brandIds.push(e);this.$router.push({query:{...this.$route.query,brandIds:this.queryParam.brandIds}}).catch(()=>{}),this.getList({})},attributeValueChange(e){if(this.queryParam.attributeValues.indexOf(e)>-1){let t=this.queryParam.attributeValues.indexOf(e);this.queryParam.attributeValues.splice(t,1)}else this.queryParam.attributeValues.push(e);this.$router.push({query:{...this.$route.query,attributeValues:this.queryParam.attributeValues}}).catch(()=>{}),this.getList({})},filterByPriceRange(){let e={};e.minPrice=this.queryParam.minPrice,e.maxPrice=this.queryParam.maxPrice,this.$router.push({query:{...this.$route.query,...e}}).catch(()=>{}),this.getList({})},toggleFilterDrawer(e){this.filterDrawerOpen=e},async getList(e){this.loading=!0;let t={...this.queryParam,...e},h=`shop/${this.$route.params.slug}/products?`;h+=`&page=${this.queryParam.page}`,h+=t.categorySlug?`&category_slug=${t.categorySlug}`:"",h+=t.brandIds?`&brand_ids=${t.brandIds}`:"",h+=t.attributeValues?`&attribute_values=${t.attributeValues}`:"",h+=t.keyword?`&keyword=${t.keyword}`:"",h+=t.sortBy?`&sort_by=${t.sortBy}`:"",h+=t.minPrice?`&min_price=${t.minPrice}`:"",h+=t.maxPrice?`&max_price=${t.maxPrice}`:"";const u=await this.call_api("get",h);u.data.success&&(this.loading=!1,this.products=u.data.products.data,this.attributes=u.data.attributes.data,this.allBrands=u.data.allBrands.data,this.rootCategories=u.data.rootCategories.data,this.parentCategory=u.data.parentCategory?u.data.parentCategory:{},this.currentCategory=u.data.currentCategory?u.data.currentCategory:{},this.childCategories=u.data.childCategories?u.data.childCategories.data:[],this.totalPages=u.data.totalPage,this.totalProducts=u.data.total,this.queryParam.page=u.data.currentPage)}},created(){if(this.queryParam.categorySlug=this.$route.params.categorySlug||this.queryParam.categorySlug,this.queryParam.keyword=this.$route.params.keyword,this.queryParam.brandIds=this.$route.params.brandId||this.queryParam.brandIds,this.queryParam.page=this.$route.query.page||this.queryParam.page,this.queryParam.sortBy=this.$route.query.sortBy||this.queryParam.sortBy,this.queryParam.minPrice=this.$route.query.minPrice||this.queryParam.minPrice,this.queryParam.maxPrice=this.$route.query.maxPrice||this.queryParam.maxPrice,this.queryParam.attributeValues=this.$route.query.attributeValues||this.queryParam.attributeValues,this.queryParam.sortBy!=="popular"){let e=this.sortingOptions.find(t=>t.value===this.queryParam.sortBy);this.sortingDefault=e}this.getList({page:this.queryParam.page,categorySlug:this.queryParam.categorySlug,brandIds:this.queryParam.brandIds,attributeValues:this.queryParam.attributeValues,keyword:this.queryParam.keyword,sortBy:this.queryParam.sortBy,minPrice:this.queryParam.minPrice,maxPrice:this.queryParam.maxPrice})}},F={class:"border-bottom pa-5 d-lg-none d-flex align-center"},N={class:"ms-4 fw-600 fs-14 lh-1"},R={class:"pa-5"},z={class:"mb-5"},T={class:"fw-700 fs-14 mb-4 border-bottom pb-3"},E={class:"list-unstyled ps-0"},Y={class:"my-2"},G={key:0,class:"my-2"},J={key:0,class:"las la-angle-down fs-12 me-1"},K={class:"mb-4 pt-4 border-top"},Q={class:"fw-700 fs-14 mb-3"},W={class:"row no-gutters align-center d-flex align-center"},X={class:"col"},x={class:"col"},ee={class:"col col-auto"},te={class:"mb-4 pt-4 border-top"},ae={class:"fw-700 fs-14 mb-3"},se={key:0},re={class:"fw-700 fs-14 mb-3"},le={key:0},oe={class:"pt-4 ps-lg-7"},ie={class:"d-flex align-center"},ne={key:0,class:"fs-18"},ue={key:1,class:"fs-18"},de={key:2,class:"fs-18"},me={class:"opacity-60 mb-0 fs-12"},ce={class:"d-lg-none ms-auto ms-sm-0"},he={class:"fs-13 d-flex align-center opacity-80"},pe={class:"opacity-60 mx-1"},ge={class:"mb-7"},ye={key:1,class:"pa-4 text-center fs-20"},fe={key:0,class:"text-center"};function Pe(e,t,h,u,_e,d){const P=m("router-link"),$=m("v-text-field"),S=m("v-btn"),b=m("v-checkbox"),k=m("ShowMore"),_=m("v-col"),H=m("shop-banner-section-two"),I=m("v-select"),v=m("v-row"),D=m("product-box"),M=m("v-pagination"),O=m("v-container");return r(),p(O,{class:"pb-9 pt-0"},{default:i(()=>[n(v,{"no-gutters":"",align:"start"},{default:i(()=>[n(_,{cols:"auto",class:"w-lg-270px sticky-top"},{default:i(()=>[a("div",{class:B(["border-end filter-drawer",{"open c-scrollbar overflow-y-auto":e.filterDrawerOpen}])},[a("div",F,[t[7]||(t[7]=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[a("path",{id:"Path_2643","data-name":"Path 2643",d:"M20,5H18.829a3,3,0,0,0-5.659,0H4A1,1,0,0,0,4,7h9.171a3,3,0,0,0,5.659,0H20a1,1,0,0,0,0-2ZM16,7a1,1,0,1,0-1-1A1,1,0,0,0,16,7ZM3,12a1,1,0,0,1,1-1H5.171a3,3,0,0,1,5.659,0H20a1,1,0,0,1,0,2H10.829a3,3,0,0,1-5.659,0H4A1,1,0,0,1,3,12Zm5,1a1,1,0,1,0-1-1A1,1,0,0,0,8,13ZM4,17a1,1,0,0,0,0,2h9.171a3,3,0,0,0,5.659,0H20a1,1,0,0,0,0-2H18.829a3,3,0,0,0-5.659,0Zm13,1a1,1,0,1,1-1-1A1,1,0,0,1,17,18Z",transform:"translate(-3 -3)",fill:"#2a2e34","fill-rule":"evenodd"})],-1)),a("span",N,o(e.$t("filters")),1),a("button",{class:"ms-auto",onClick:t[0]||(t[0]=C(s=>d.toggleFilterDrawer(!e.filterDrawerOpen),["stop"])),type:"button"},t[6]||(t[6]=[a("i",{class:"la la-close fs-20"},null,-1)]))]),a("div",R,[a("div",z,[a("h4",T,o(e.$t("categories")),1),a("div",null,[a("ul",E,[e.is_empty_obj(e.currentCategory)?(r(!0),l(g,{key:0},y(e.rootCategories,(s,c)=>(r(),l("li",{key:c,class:"my-2"},[n(P,{to:{name:"ShopProducts",params:{categorySlug:s.slug,slug:e.$route.params.slug}},class:"text-reset fs-14"},{default:i(()=>[V(o(s.name),1)]),_:2},1032,["to"])]))),128)):(r(),l(g,{key:1},[a("li",Y,[n(P,{to:{name:"ShopProducts",params:{slug:e.$route.params.slug}},class:"text-reset fs-14"},{default:i(()=>[t[8]||(t[8]=a("i",{class:"las la-angle-left fs-12 me-1"},null,-1)),a("span",null,o(e.$t("all_categories")),1)]),_:1},8,["to"])]),e.is_empty_obj(e.parentCategory)?w("",!0):(r(),l("li",G,[n(P,{to:{name:"ShopProducts",params:{categorySlug:e.parentCategory.slug,slug:e.$route.params.slug}},class:"text-reset fs-14"},{default:i(()=>[t[9]||(t[9]=a("i",{class:"las la-angle-left fs-12 me-1"},null,-1)),a("span",null,o(e.parentCategory.name),1)]),_:1},8,["to"])])),a("li",{class:B(["my-2",{"ms-5":e.childCategories.length==0}])},[n(P,{to:{name:"ShopProducts",params:{categorySlug:e.currentCategory.slug,slug:e.$route.params.slug}},class:"text-reset fs-14 fw-600"},{default:i(()=>[e.childCategories.length>0?(r(),l("i",J)):w("",!0),a("span",null,o(e.currentCategory.name),1)]),_:1},8,["to"])],2),(r(!0),l(g,null,y(e.childCategories,(s,c)=>(r(),l("li",{class:"my-2 ms-5",key:c},[n(P,{to:{name:"ShopProducts",params:{categorySlug:s.slug,slug:e.$route.params.slug}},class:"text-reset fs-14"},{default:i(()=>[a("span",null,o(s.name),1)]),_:2},1032,["to"])]))),128))],64))])])]),a("div",K,[a("h4",Q,o(e.$t("price")),1),a("div",W,[a("div",X,[n($,{type:"number",class:"form-control form-control-sm min-max-field",modelValue:e.queryParam.minPrice,"onUpdate:modelValue":t[1]||(t[1]=s=>e.queryParam.minPrice=s),placeholder:e.$t("min_price"),"hide-details":"auto",variant:"plain"},null,8,["modelValue","placeholder"])]),t[10]||(t[10]=a("span",{class:"mx-1 col col-auto opacity-60"},"to",-1)),a("div",x,[n($,{type:"number",class:"form-control form-control-sm min-max-field",modelValue:e.queryParam.maxPrice,"onUpdate:modelValue":t[2]||(t[2]=s=>e.queryParam.maxPrice=s),placeholder:e.$t("max_price"),"hide-details":"auto",variant:"plain"},null,8,["modelValue","placeholder"])]),a("div",ee,[n(S,{size:"small",fab:"",type:"submit",color:"primary",class:"rounded ms-2",elevation:"0",onClick:d.filterByPriceRange},{default:i(()=>[V(o(e.$t("go")),1)]),_:1},8,["onClick"])])])]),a("div",te,[a("h4",ae,o(e.$t("brands")),1),e.allBrands.length<5?(r(),l("div",se,[(r(!0),l(g,null,y(e.allBrands,(s,c)=>(r(),p(b,{"true-icon":"las la-check",class:"mt-1","hide-details":"",key:c,label:s.name,onChange:f=>d.brandChange(s.id)},null,8,["label","onChange"]))),128))])):(r(),p(k,{key:1},{default:i(()=>[(r(!0),l(g,null,y(e.allBrands,(s,c)=>(r(),p(b,{"true-icon":"las la-check",class:"mt-1","hide-details":"",key:c,label:s.name,onChange:f=>d.brandChange(s.id)},null,8,["label","onChange"]))),128))]),_:1}))]),(r(!0),l(g,null,y(e.attributes,(s,c)=>(r(),l("div",{class:"mb-4 pt-4 border-top",key:c},[a("h4",re,o(s.name),1),s.values.data.length<5?(r(),l("div",le,[(r(!0),l(g,null,y(s.values.data,(f,q)=>(r(),p(b,{"true-icon":"las la-check",class:"mt-1","hide-details":"",key:q,label:f.name,onChange:Z=>d.attributeValueChange(f.id)},null,8,["label","onChange"]))),128))])):(r(),p(k,{key:1},{default:i(()=>[(r(!0),l(g,null,y(s.values.data,(f,q)=>(r(),p(b,{"true-icon":"las la-check",class:"mt-1","hide-details":"",key:q,label:f.name,onChange:Z=>d.attributeValueChange(f.id)},null,8,["label","onChange"]))),128))]),_:2},1024))]))),128))])],2)]),_:1}),n(_,{class:"minw-0"},{default:i(()=>[n(H,{banners:e.productsBanners,"is-loading":e.$parent.loading},null,8,["banners","is-loading"]),a("div",oe,[n(v,{align:"end",class:"mb-3"},{default:i(()=>[n(_,{cols:"12",sm:""},{default:i(()=>[a("div",ie,[a("div",null,[e.queryParam.keyword?(r(),l("h1",ne,o(e.$t("search_results_for"))+' "'+o(e.queryParam.keyword)+'"',1)):e.is_empty_obj(e.currentCategory)?(r(),l("h1",de,o(e.$t("all_products")),1)):(r(),l("h1",ue,o(e.currentCategory.name),1)),a("p",me,o(e.$t("total")+" "+e.totalProducts+" "+e.$t("products_found")),1)]),a("div",ce,[a("button",{class:"ms-4 pa-2 border-gray-300 rounded border d-flex justify-center align-center",onClick:t[3]||(t[3]=C(s=>d.toggleFilterDrawer(!e.filterDrawerOpen),["stop"])),type:"button"},t[11]||(t[11]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[a("path",{id:"Path_2643","data-name":"Path 2643",d:"M20,5H18.829a3,3,0,0,0-5.659,0H4A1,1,0,0,0,4,7h9.171a3,3,0,0,0,5.659,0H20a1,1,0,0,0,0-2ZM16,7a1,1,0,1,0-1-1A1,1,0,0,0,16,7ZM3,12a1,1,0,0,1,1-1H5.171a3,3,0,0,1,5.659,0H20a1,1,0,0,1,0,2H10.829a3,3,0,0,1-5.659,0H4A1,1,0,0,1,3,12Zm5,1a1,1,0,1,0-1-1A1,1,0,0,0,8,13ZM4,17a1,1,0,0,0,0,2h9.171a3,3,0,0,0,5.659,0H20a1,1,0,0,0,0-2H18.829a3,3,0,0,0-5.659,0Zm13,1a1,1,0,1,1-1-1A1,1,0,0,1,17,18Z",transform:"translate(-3 -3)",fill:"#2a2e34","fill-rule":"evenodd"})],-1)]))])])]),_:1}),n(_,{cols:"12",sm:"auto"},{default:i(()=>[n(I,{modelValue:d.sortingDefault,"onUpdate:modelValue":[t[4]||(t[4]=s=>d.sortingDefault=s),d.sortUpdate],items:d.sortingOptions,"item-title":"name","item-value":"value","menu-props":{offsetY:!0},"append-inner-icon":"las la-angle-down fs-14",density:"compact",flat:"",solo:"",variant:"outlined","hide-details":""},{selection:i(({item:s})=>[a("span",he,[a("span",pe,o(e.$t("sort_by"))+":",1),a("span",null,o(s.title),1)])]),_:1},8,["modelValue","items","onUpdate:modelValue"])]),_:1})]),_:1}),a("div",ge,[e.products.length>0?(r(),p(v,{key:0,class:"row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-xl-5 md-gutters-10"},{default:i(()=>[(r(!0),l(g,null,y(e.products,(s,c)=>(r(),p(_,{key:c},{default:i(()=>[n(D,{"product-details":s,"is-loading":e.loading},null,8,["product-details","is-loading"])]),_:2},1024))),128))]),_:1})):(r(),l("div",ye,o(e.$t("no_product_found")),1))]),e.totalPages>1?(r(),l("div",fe,[n(M,{modelValue:e.queryParam.page,"onUpdate:modelValue":[t[5]||(t[5]=s=>e.queryParam.page=s),d.pageSwitch],class:"my-4",length:e.totalPages,"prev-icon":"las la-angle-left","next-icon":"las la-angle-right","total-visible":7,elevation:"0"},null,8,["modelValue","length","onUpdate:modelValue"])])):w("",!0)])]),_:1})]),_:1})]),_:1})}const we=U(j,[["render",Pe],["__scopeId","data-v-fa42d75a"]]);export{we as default};
